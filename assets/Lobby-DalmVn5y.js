import{_ as C,b as m,d as $,e as S,c as _,a as e,F as d,f as y,g as c,u as a,o as r,h as f,t as u}from"./index-Bmxp_GaU.js";import{a as F,u as B}from"./Players-C2X_R_2h.js";import{_ as L,a as N,b as V,c as P,d as j}from"./sup_icon-ClvDV_lg.js";const D={class:"lobby"},E={class:"players"},I={class:"team_blue"},M=["onClick"],T=["src"],U={class:"team_red"},q=["onClick"],w={class:"btn-container"},x={class:"bench"},z={class:"bench_player"},A={__name:"Lobby",setup(G){const b=[L,N,V,P,j],t=F(),o=B();function k(){t.is_full()?(o.emit("game_start"),m.push("Fearless")):alert("10명이 모두 모이지 않았습니다!")}function h(n){t.update_players(n)}o.on("player_info",n=>{try{console.log("player_info 수신됨:",n),h(n)}catch(l){console.error("player_info 처리 중 오류 발생:",l)}}),o.emit("get_player_info"),o.on("game_start",()=>{m.push("Fearless")}),$(()=>{}),S(()=>{o.socket&&o.socket.off("player_info")});function g(){o.emit("join_bench")}function p(n,l){o.emit("move",{team:n,index:l})}return console.log(t.get_player_info()),(n,l)=>(r(),_("div",null,[e("main",null,[e("div",D,[e("div",E,[(r(),_(d,null,y(b,(i,s)=>e("div",{class:"icon",key:s},[e("div",I,[f(u(a(t).get_player_info()[`blue_player_${s+1}`].nickname)+" ",1),a(t).get_player_info()[`blue_player_${s+1}`].nickname?c("",!0):(r(),_("button",{key:0,onClick:v=>p("blue",s)}," 참가 ",8,M))]),e("img",{src:`${i}`},null,8,T),e("div",U,[f(u(a(t).get_player_info()[`red_player_${s+1}`].nickname)+" ",1),a(t).get_player_info()[`red_player_${s+1}`].nickname?c("",!0):(r(),_("button",{key:0,onClick:v=>p("red",s)}," 참가 ",8,q))])])),64))])]),e("div",w,[a(t).get_player_info().blue_player_1.socket_id==a(o).get_socket_id()?(r(),_("button",{key:0,class:"btn",onClick:l[0]||(l[0]=i=>k())}," 경기 시작 ")):c("",!0)])]),e("footer",null,[e("div",x,[e("button",{onClick:g},"대기실로 이동"),(r(!0),_(d,null,y(a(t).get_player_info().bench,(i,s)=>(r(),_("div",z,u(i.nickname),1))),256))])])]))}},O=C(A,[["__scopeId","data-v-e5522990"]]);export{O as default};
