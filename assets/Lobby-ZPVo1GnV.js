import{_ as $,b as C,d as S,e as F,c as a,a as t,F as y,f,g as i,u as n,o as r,n as d,h as b,t as p}from"./index-CQue1lxx.js";import{a as B,u as L}from"./Players-LCpVXeGc.js";import{_ as N,a as V,b as P,c as j,d as z}from"./sup_icon-ClvDV_lg.js";const D={class:"lobby"},E={class:"players"},I=["onClick"],M=["src"],T=["onClick"],U={class:"btn-container"},q={class:"bench"},w={class:"bench_player"},A={__name:"Lobby",setup(G){const k=[N,V,P,j,z],e=B(),o=L();function g(){e.is_full()?o.emit("Start_Fearless"):alert("10명이 모두 모이지 않았습니다!")}o.on("player_info",_=>{try{console.log("player_info 수신됨:",_),e.update_players(_)}catch(l){console.error("player_info 처리 중 오류 발생:",l)}}),o.emit("get_player_info"),o.on("Start_Fearless",()=>{C.push("Fearless")}),S(()=>{}),F(()=>{o.socket&&o.socket.off("player_info")});function h(){o.emit("join_bench")}function u(_,l){o.emit("move",{team:_,index:l})}function m(_){return console.log(_),o.get_socket_id()===_}return console.log(e.get_player_info()),(_,l)=>(r(),a("div",null,[t("main",null,[t("div",D,[t("div",E,[(r(),a(y,null,f(k,(c,s)=>t("div",{class:"icon",key:s},[t("div",{class:d(["team_blue",{my_cell:m(n(e).get_player_info()[`blue_player_${s+1}`].socket_id)}])},[b(p(n(e).get_player_info()[`blue_player_${s+1}`].nickname)+" ",1),n(e).get_player_info()[`blue_player_${s+1}`].nickname?i("",!0):(r(),a("button",{key:0,onClick:v=>u("blue",s)}," 참가 ",8,I))],2),t("img",{src:`${c}`},null,8,M),t("div",{class:d(["team_red",{my_cell:m(n(e).get_player_info()[`red_player_${s+1}`].socket_id)}])},[b(p(n(e).get_player_info()[`red_player_${s+1}`].nickname)+" ",1),n(e).get_player_info()[`red_player_${s+1}`].nickname?i("",!0):(r(),a("button",{key:0,onClick:v=>u("red",s)}," 참가 ",8,T))],2)])),64))])]),t("div",U,[n(e).get_player_info().blue_player_1.socket_id==n(o).get_socket_id()?(r(),a("button",{key:0,class:"btn",onClick:l[0]||(l[0]=c=>g())}," 경기 시작 ")):i("",!0)])]),t("footer",null,[t("div",q,[t("button",{onClick:h},"대기실로 이동"),(r(!0),a(y,null,f(n(e).get_player_info().bench,(c,s)=>(r(),a("div",w,p(c.nickname),1))),256))])])]))}},O=$(A,[["__scopeId","data-v-a06971b3"]]);export{O as default};
